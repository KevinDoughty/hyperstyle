!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Hyperstyle=e():t.Hyperstyle=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame)||function(t){setTimeout(t,0)},o=Date.getTime;function a(t){this.time,this.disableAnimation=!1,this.duration,this.easing,t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}function s(){this.targets=[],this.getPresentations=[],this.getAnimationCounts=[],this.transactions=[],this.ticking=!1,this.animationFrame,this.displayLayers=[],this.displayFunctions=[],this.cleanupFunctions=[],this.invalidateFunctions=[],this.force=[]}Date.now&&(o=Date.now),"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now&&(o=window.performance.now.bind(window.performance)),s.prototype={createTransaction:function(t,e){var n=new a(t),r=this.transactions.length,i=o()/1e3;return r&&(i=this.transactions[r-1].representedObject.time),Object.defineProperty(n,"time",{get:function(){return i},enumerable:!0,configurable:!1}),this.transactions.push({representedObject:n,automaticallyCommit:e,flushers:[]}),e&&this.startTicking(),n},createTransactionWrapper:function(t,e){for(var n=this.targets.length;n--;)this.invalidateFunctions[n]();var r=new a(t),i=this.transactions.length,s=o()/1e3;i&&(s=this.transactions[i-1].representedObject.time),Object.defineProperty(r,"time",{get:function(){return s},enumerable:!0,configurable:!1});var u={representedObject:r,automaticallyCommit:e,flushers:[]};return this.transactions.push(u),e&&this.startTicking(),u},currentTransaction:function(){var t=this.transactions.length;return t?this.transactions[t-1].representedObject:this.createTransactionWrapper({},!0).representedObject},beginTransaction:function(t){return this.createTransactionWrapper(t,!1).representedObject},commitTransaction:function(){this.clearFlushers(),this.transactions.pop()},clearFlushers:function(){var t=this.currentTransactionWrapper();t.flushers.forEach(function(t){t()}),t.flushers.length=0;for(var e=this.targets.length;e--;)this.invalidateFunctions[e]()},flushTransaction:function(){this.clearFlushers()},currentTransactionWrapper:function(){var t=this.transactions.length;return t?this.transactions[t-1]:this.createTransactionWrapper({},!0)},registerFlusher:function(t){this.currentTransactionWrapper().flushers.push(t)},disableAnimation:function(t){!1!==t&&(t=!0),this.currentTransaction().disableAnimation=t,this.startTicking()},registerTarget:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.startTicking();var u=this.targets.indexOf(t);u<0?(this.targets.push(t),this.getPresentations.push(e),this.getAnimationCounts.push(n),this.displayLayers.push(s),this.displayFunctions.push(r),this.cleanupFunctions.push(o),this.invalidateFunctions.push(i),this.force.push(a)):this.force[u]=a},deregisterTarget:function(t){var e=this.targets.indexOf(t);e>-1&&(this.targets.splice(e,1),this.getPresentations.splice(e,1),this.getAnimationCounts.splice(e,1),this.displayLayers.splice(e,1),this.displayFunctions.splice(e,1),this.cleanupFunctions.splice(e,1),this.invalidateFunctions.splice(e,1),this.force.splice(e,1))},startTicking:function(){this.animationFrame||(this.animationFrame=i(this.ticker.bind(this)))},ticker:function(){this.animationFrame=void 0;for(var t=this.targets,e=t.length;e--;){var n=t[e],r=this.displayFunctions[e],i=this.getAnimationCounts[e](),o=this.getPresentations[e];if(i){var a=o();(this.force[e]||this.displayLayers[e]!==a)&&(this.displayLayers[e]=a,r(a)),this.cleanupFunctions[e]()}else{this.invalidateFunctions[e](),r(o()),this.deregisterTarget(n)}this.force[e]=!1}var s=this.transactions.length;s&&(this.transactions[s-1].automaticallyCommit&&this.commitTransaction());this.targets.length&&this.startTicking()}};var u="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":r(t)},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function l(t){return t&&"[object Function]"==={}.toString.call(t)}function f(){}function h(){}function p(t,e,n){this.subtype=t,l(t)&&(this.subtype=new t(n)),this.length=e}function d(t){l(t)?this.sort=t:t&&l(t.sort)&&(this.sort=t.sort),this.debug="HyperSet"}f.prototype={constructor:f,zero:function(){return 0},add:function(t,e){return t+e},subtract:function(t,e){return t-e},interpolate:function(t,e,n){return t+(e-t)*n},input:function(t,e){return e},output:function(t,e){return e},toString:function(){return"HyperNumber"},toJSON:function(){return this.toString()}},h.prototype={constructor:h,zero:function(){return 1},add:function(t,e){return t*e},subtract:function(t,e){return 0===e?0:t/e},interpolate:function(t,e,n){return t+(e-t)*n},toString:function(){return"HyperScale"},toJSON:function(){return this.toString()}},p.prototype={constructor:p,zero:function(){for(var t=[],e=this.length;e--;)t.push(this.subtype.zero());return t},add:function(t,e){for(var n=[],r=0;r<this.length;r++)n.push(this.subtype.add(t[r],e[r]));return n},subtract:function(t,e){for(var n=[],r=0;r<this.length;r++)n.push(this.subtype.subtract(t[r],e[r]));return n},interpolate:function(t,e,n){for(var r=[],i=0;i<this.length;i++)r.push(this.subtype.interpolate(t[i],e[i],n));return r},toString:function(){return"HyperArray"},toJSON:function(){return this.toString()}},d.prototype={constructor:d,zero:function(){return[]},add:function(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return[];if(!Array.isArray(t))return e;if(!Array.isArray(e))return t;var n=[],r=t.length,i=e.length,o=0,a=0;if(l(this.sort))for(;o<r||a<i;)if(o===r)n.push(e[a]),a++;else if(a===i)n.push(t[o]),o++;else{var s=t[o],u=e[a],c=this.sort(s,u);if(0===c)n.push(s),o++,a++;else if(c<0)n.push(s),o++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, add a:"+s+"; b:"+u+"; result:"+c+";");n.push(u),a++}}else for(n=t.slice(0),o=e.length;o--;)t.indexOf(e[o])<0&&n.push(e[o]);return n},subtract:function(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return[];if(!Array.isArray(t))return e;if(!Array.isArray(e))return t;var n=[],r=t.length,i=e.length,o=0,a=0;if(l(this.sort))for(;(o<r||a<i)&&o!==r;)if(a===i)n.push(t[o]),o++;else{var s=t[o],u=e[a],c=this.sort(s,u);if(0===c)o++,a++;else if(c<0)n.push(s),o++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, subtract a:"+s+"; b:"+u+"; result:"+c+";");a++}}else for(n=t.slice(0),o=e.length;o--;){var f=n.indexOf(e[o]);f>-1&&n.splice(f,1)}return n},interpolate:function(t,e,n){return n>=1?e:t},toString:function(){return"HyperSet"},toJSON:function(){return this.toString()}};var y=function(){function t(){}return c(t,[{key:"zero",value:function(){return O()}},{key:"add",value:function(t,e){return x(t.x+e.x,t.y+e.y)}},{key:"subtract",value:function(t,e){return x(t.x-e.x,t.y-e.y)}},{key:"interpolate",value:function(t,e,n){return x(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)}},{key:"toString",value:function(){return"HyperPoint"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),g=function(){function t(){}return c(t,[{key:"zero",value:function(){return T()}},{key:"add",value:function(t,e){return A(t.width+e.width,t.height+e.height)}},{key:"subtract",value:function(t,e){return A(t.width-e.width,t.height-e.height)}},{key:"interpolate",value:function(t,e,n){return A(t.width+(e.width-t.width)*n,t.height+(e.height-t.height)*n)}},{key:"toString",value:function(){return"HyperSize"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),v=function(){function t(){}return c(t,[{key:"zero",value:function(){return k()}},{key:"add",value:function(t,e){return{origin:y.prototype.add(t.origin,e.origin),size:g.prototype.add(t.size,e.size)}}},{key:"subtract",value:function(t,e){return{origin:y.prototype.subtract(t.origin,e.origin),size:g.prototype.subtract(t.size,e.size)}}},{key:"interpolate",value:function(t,e,n){return{origin:y.prototype.interpolate(t.origin,e.origin,n),size:g.prototype.interpolate(t.size,e.size,n)}}},{key:"toString",value:function(){return"HyperRect"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),m=Number.MAX_VALUE;function b(t,e,n,r){return{origin:x(t,e),size:A(n,r)}}function k(){return b(0,0,0,0)}function w(t,e){return S(t.origin,e.origin)&&N(t.size,e.size)}function x(t,e){return{x:t,y:e}}function O(){return x(0,0)}function S(t,e){return t.x===e.x&&t.y===e.y}function A(t,e){return{width:t,height:e}}function T(){return A(0,0)}function N(t,e){return t.width===e.width&&t.height&&e.height}function z(t,e){return{location:t,length:e}}function j(){return z(0,0)}function C(){return z(m,0)}function E(t,e){return t>e.location&&t<e.location+e.length}function V(t,e){return t.location===e.location&&t.length===e.length}function M(t,e){if(t.location+t.length<=e.location||e.location+e.length<=t.location)return C();var n=Math.max(t.location,e.location);return{location:n,length:Math.min(t.location+t.length,e.location+e.length)-n}}var P=0,F=new f;function I(t){return t&&"[object Function]"==={}.toString.call(t)}function J(t){var e=[];Array.isArray(t)?e=t:t&&Array.isArray(t.chain)&&(e=t.chain),this.chain=e.map(function(t){return Z(t)}),Object.defineProperty(this,"finished",{get:function(){return!this.chain.length||this.chain[this.chain.length-1].finished},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){"chain"!==e&&"finished"!==e&&(this[e]=t[e])}.bind(this))}function q(t){var e=[];Array.isArray(t)?e=t:t&&t.group&&(e=t.group),this.group=e.map(function(t){return Z(t)}),Object.defineProperty(this,"finished",{get:function(){var t=!0;return this.group.forEach(function(e){e.finished||(t=!1)}),t},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){"group"!==e&&"finished"!==e&&(this[e]=t[e])}.bind(this))}function H(){this.property,this.type,this.duration,this.easing,this.speed,this.iterations,this.autoreverse,this.fillMode,this.index=0,this.delay=0,this.blend="relative",this.additive=!0,this.sort,this.finished=!1,this.startTime,this.progress,this.onend,this.remove=!0}function _(t){H.call(this);var e=[];t&&Array.isArray(t.keyframes)&&(e=t.keyframes),this.keyframes=e;var n=this.keyframes.length;t&&Object.keys(t).forEach(function(e){"keyframes"!==e&&(this[e]=t[e])}.bind(this)),Array.isArray(this.offsets)&&this.offsets.length===n?this.offsets.sort(function(t,e){return t-e}):this.offsets=n<2?[]:this.keyframes.map(function(t,e){return e/(n-1)}),this.progress=null}function X(t){H.call(this),this.from,this.to,this.delta,t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this)),this.progress=null}function Y(t){return t&&I(t.add)&&I(t.subtract)&&I(t.zero)&&I(t.interpolate)}function Z(t){var e=void 0;if(!t&&0!==t)return t;if(t instanceof H||t instanceof _||t instanceof q||t instanceof J)e=t.copy.call(t);else if(Array.isArray(t))e=new q(t);else if(function(t){return t&&"object"===(void 0===t?"undefined":u(t))}(t))e=Y(t)?new X({type:t}):Array.isArray(t.keyframes)?new _(t):Array.isArray(t.group)?new q(t):Array.isArray(t.chain)?new J(t):new X(t);else if(function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t))e=new X({duration:t});else{if(!0!==t)throw new Error("is this an animation:"+JSON.stringify(t));e=new X({})}return e}function R(t){return t&&"[object Function]"==={}.toString.call(t)}function L(t,e,n,r,i){if(t instanceof X||t instanceof _){var o=t.property;if(e&&o&&R(e.typeOfProperty)){var a=e.typeOfProperty.call(e,o);a&&(t.type=a)}var s=K(o,e.keyInput,e),u=n[s],c=r[s]||function(t){if(!t)return null;return t.type?R(t.type)?new t.type:t.type:R(t)?new t:t}(u);t.property&&t.type&&i(t.property,t.type,!0),t instanceof X?((Array.isArray(t.from)||Array.isArray(t.to))&&!t.type&&R(t.sort)&&(t.type=new d(t.sort)),t.type||(t.type=c),(t.from||0===t.from)&&(t.from=D(t.from,s,e,r,t.type)),(t.to||0===t.to)&&(t.to=D(t.to,s,e,r,t.type)),(t.delta||0===t.delta)&&(t.delta=D(t.delta,s,e,r,t.type))):(t.type||(t.type=c),t.keyframes&&(t.keyframes=t.keyframes.map(function(n){return D(n,s,e,r,t.type)})),t.delta&&(t.delta=t.delta.map(function(n){return D(n,s,e,r,t.type)})))}else if(t instanceof q)t.group.forEach(function(t){L(t,e,n,r,i)});else{if(!(t instanceof J))throw new Error("not an animation");t.chain.forEach(function(t){L(t,e,n,r,i)})}}function K(t,e,n){return R(e)?e.call(n,t):t}function D(t,e,n,r,i){if(n&&R(n.input))return n.input.call(n,e,t);var o=t,a=r[e];return i&&R(i.input)?o=i.input.call(i,e,t):a&&R(a.input)&&(o=a.input.call(a,e,t)),o}function W(t,e,n,r,i){if(n&&R(n.output))return n.output.call(n,e,t);var o=t,a=r[e];return i&&R(i.output)?o=i.output.call(i,e,t):a&&R(a.output)&&(o=a.output.call(a,e,t)),o}function $(t){if(t&&(t instanceof X||t instanceof _||t instanceof q||t instanceof J))return!0}J.prototype={constructor:J,copy:function(){return new this.constructor(this)},runAnimation:function(t,e,n){this.sortIndex=P++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=n.time);for(var r=this.chain.length,i=Object.assign({},n),o=this.startTime,a=0;a<r;a++){var s=this.chain[a];i.time=o,s.runAnimation.call(s,t,e,i),o=o===1/0||s.iterations===1/0?1/0:o+s.delay+s.duration*s.iterations}},composite:function(t,e){for(var n=!1,r=this.chain.length,i=0;i<r;i++){var o=this.chain[i];n=o.composite.call(o,t,e)||n}return n},convert:function(t,e){I(t)&&this.chain.forEach(function(n){n.convert.call(n,t,e)})}},J.prototype.description=function(t){var e=Object.assign({},this);return e.chain=this.chain.map(function(e){return e.description(t)}),e},q.prototype={constructor:q,copy:function(){return new this.constructor(this)},runAnimation:function(t,e,n){this.sortIndex=P++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=n.time),this.group.forEach(function(r){r.runAnimation.call(r,t,e,n)})},composite:function(t,e){var n=!1;return this.group.forEach(function(r){n=r.composite.call(r,t,e)||n}),n},convert:function(t,e){I(t)&&this.group.forEach(function(n){n.convert.call(n,t,e)})}},q.prototype.description=function(t){var e=Object.assign({},this);return e.group=this.group.map(function(e){return e.description(t)}),e},H.prototype={copy:function(){return new this.constructor(this)},composite:function(t,e){if(null===this.startTime||void 0===this.startTime)throw new Error("Cannot composite an animation that has not been started.");if(this.startTime+this.delay>e&&"backwards"!==this.fillMode&&"both"!==this.fillMode)return!1;if(this.finished&&"forwards"!==this.fillMode&&"both"!==this.fillMode)return!1;var n=Math.max(0,e-(this.startTime+this.delay)),r=this.speed,i=1,o=1,a=this.duration,s=a*this.iterations;s&&(i=n*r/a,o=n*r/s),o>=1&&(i=1,this.finished=!0);var u=0;if(this.finished||(!0===this.autoreverse&&(u=Math.floor(i)%2),i%=1),u&&(i=1-i),I(this.easing))i=this.easing(i);else if("step-start"===this.easing)i=Math.ceil(i);else if("step-middle"===this.easing)i=Math.round(i);else if("step-end"===this.easing)i=Math.floor(i);else{var c=.5-Math.cos(i*Math.PI)/2;if(this.easing){var l=/(step-start|step-middle|step-end|steps)\((\d+)\)/.exec(this.easing);if(l){var f=l[1],h=l[2];h>0?"step-start"===f?i=Math.ceil(i*h)/h:"step-middle"===f?i=Math.round(i*h)/h:"step-end"!==f&&"steps"!==f||(i=Math.floor(i*h)/h):"linear"!==this.easing&&(i=c)}else"linear"!==this.easing&&(i=c)}else i=c}var p=void 0;if(this instanceof _){var d=this.keyframes.length;if(!d)throw new Error("HyperAction composite need to be able to handle zero keyframes");if(1===d)throw new Error("HyperAction composite need to be able to handle one keyframe");for(var y=d-1;y--&&!(i>=this.offsets[y]););var g=y,v=g+1,m=this.offsets[v]-this.offsets[g];if(0===m)throw new Error("can't divide by zero. check your keyframe offsets.");var b=(i-this.offsets[g])/m;p="absolute"===this.blend?this.type.interpolate(this.keyframes[g],this.keyframes[v],b):this.type.interpolate(this.delta[g],this.delta[v],b)}else p="absolute"===this.blend?this.type.interpolate(this.from,this.to,i):this.type.interpolate(this.delta,this.type.zero(this.to),i);var k=this.property;if(void 0!==k&&null!==k){var w=p,x=t[k];void 0!==x&&null!==x||(x=this.type.zero(this.to)),this.additive&&(w=this.type.add(x,p)),this.sort&&Array.isArray(w)&&w.sort(this.sort),t[k]=w}if(t[k]&&t[k].px&&t[k].px.length&&t[k].px.substring&&"NaN"===t[k].px.substring(t[k].px.length-3))throw new Error("hyperact NaN composite onto:"+JSON.stringify(t)+"; now:"+e+";");var O=i!==this.progress||this.finished;return this.progress=i,O}},_.prototype=Object.create(H.prototype),_.prototype.constructor=_,_.prototype.copy=function(){return new this.constructor(this)},_.prototype.runAnimation=function(t,e,n){if(this.type?I(this.type)&&(this.type=new this.type):this.type=F,!(I(this.type.zero)&&I(this.type.add)&&I(this.type.subtract)&&I(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");if("absolute"!==this.blend&&this.keyframes.length){for(var r=this.keyframes.length-1,i=[],o=0;o<r;o++)i[o]=this.type.subtract(this.keyframes[o],this.keyframes[r]);i[r]=this.type.zero(this.keyframes[r]),this.delta=i}null!==this.duration&&void 0!==this.duration||(this.duration=n.duration),null!==this.easing&&void 0!==this.easing||(this.easing=n.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=n.time),this.sortIndex=P++},_.prototype.convert=function(t,e){if(I(t)&&this.property){["keyframes","delta"].forEach(function(n){var r=this;if(this[n]){var i=this[n].slice(0);this[n]=i.map(function(n){return t.call(e,r.property,n)})}}.bind(this))}},_.prototype.description=function(t){var e=Object.assign({},this);return this.convert.call(e,t.output,t),e},X.prototype=Object.create(H.prototype),X.prototype.constructor=X,X.prototype.runAnimation=function(t,e,n){if(this.type?I(this.type)&&(this.type=new this.type):this.type=F,!(I(this.type.zero)&&I(this.type.add)&&I(this.type.subtract)&&I(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");this.from||(this.from=this.type.zero(this.to)),this.to||(this.to=this.type.zero(this.from)),"absolute"!==this.blend&&(this.delta=this.type.subtract(this.from,this.to)),null!==this.duration&&void 0!==this.duration||(this.duration=n.duration),null!==this.easing&&void 0!==this.easing||(this.easing=n.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=n.time),this.sortIndex=P++},X.prototype.convert=function(t,e){if(I(t)&&this.property){["from","to","delta"].forEach(function(n){var r=this[n];null!==r&&void 0!==r&&(this[n]=t.call(e,this.property,r))}.bind(this))}},X.prototype.description=function(t){var e=Object.assign({},this);return this.convert.call(e,t.output,t),e};var U=["display","animationForKey","input","output"],G=["addAnimation","animationNamed","needsDisplay","registerAnimatableProperty","removeAllAnimations","removeAnimation"],B=["layer","presentation","model","previous","animations","animationNames","animationCount"],Q=new s,tt=Q.beginTransaction.bind(Q),et=Q.commitTransaction.bind(Q),nt=Q.currentTransaction.bind(Q),rt=Q.flushTransaction.bind(Q),it=Q.disableAnimation.bind(Q);function ot(t,e,n,r){if(!e||!e.length)return!1;r&&e.sort(function(t,e){var n=(t.index||0)-(e.index||0);return n||(n=t.startTime-e.startTime),n||(n=t.sortIndex-e.sortIndex),n});var i=!1;return e.forEach(function(e){i=e.composite(t,n)||i;var r=e.property;if(r&&t[r]&&t[r].px&&t[r].px.length&&t[r].px.substring&&"NaN"===t[r].px.substring(t[r].px.length-3))throw new Error("hyperact NaN composite sourceLayer:"+JSON.stringify(t)+";")}),i}function at(t,e,n,r){if(t){if(t.registerAnimatableProperty||t.addAnimation)throw new Error("Already hyperactive");e?R(e)&&(e={display:e}):e=t,n||(n=t)}else e?R(e)&&(e={display:e}):e={},n||(n=e);var i=[],o=[],a={},s={},u={},c=!1,l={},h={},p=null,d=null,y=null,g=null,v=[],m={};function b(t){Q.registerFlusher(z);var n=Q.currentTransaction(),r=E(),i=Object.keys(t);i.length&&(g=y,y=null),i.forEach(function(n){var r=t[n],i=K(n,e.keyInput,e);S(i);var o=D(r,i,e,s);l[i]=o,h[i]=r}),Object.keys(t).forEach(function(t){var i=K(t,e.keyInput,e),o=V()[t],a=M()[t];if(o!==a){var c=r[t];if(n.disableAnimation)F();else{var l=function(t,e,n,r,i,o,a,s){var u=void 0,c=void 0;if(R(i.animationForKey)&&(c=i.animationForKey.call(i,t,e,n,r)),null===c)return null;o||(o={type:a}),o&&!$(o)&&(u=Object.assign({},o)),u&&!$(c)?u=Object.assign(u,c):(c||0===c)&&(u=c);var l=Z(c);return l||!(l=Z(o))||(l.duration||0===l.duration||s.duration&&(l.duration=s.duration),l.duration)?(l&&(l instanceof X||l instanceof _)&&(null!==l.property&&void 0!==l.property||(l.property=t),l instanceof X&&(null!==l.from&&void 0!==l.from||("absolute"===l.blend?l.from=r:l.from=n),null!==l.to&&void 0!==l.to||(l.to=e)),null!==l.easing&&void 0!==l.easing||(l.easing=s.easing),null!==l.duration&&void 0!==l.duration||(l.duration=s.duration),l.duration||(l.duration=0)),l):null}(t,o,a,c,e,u[i],s[i],n);l?P(l):F()}}})}function k(t,e,n){if(t instanceof q)t.group.forEach(function(t){k(t,-1,n)});else if(t instanceof J)t.chain.forEach(function(t){k(t,-1,n)});else if(!(t instanceof X||t instanceof _))throw new Error("not an animation");t.finished&&(function(t){return t.finished&&("forwards"===t.fillMode||"both"===t.fillMode)}(t)||function(t,e){if(e>-1){i.splice(e,1);var n=o[e];o.splice(e,1),delete a[n]}}(0,e),R(t.onend)&&n.push(t))}function w(){for(var t=i.length,e=[];t--;){k(i[t],t,e)}e.forEach(function(t){t.onend.call(t,!0),t.onend=null})}function x(t){var e=i.indexOf(t);if(e>-1){i.splice(e,1);var n=o[e];o.splice(e,1),delete a[n],R(t.onend)&&t.onend.call(t,!1)}}function O(r){return(n!==t||G.indexOf(r)<0&&B.indexOf(r)<0)&&(n!==e||U.indexOf(r)<0)}function S(t,e){A(t,e)}function A(t,r,i){var o=K(t,e.keyInput,e);if(O(t)){var a=!1,c=v.indexOf(o);-1===c&&(a=!0);var f=n[t];a&&v.push(o);var p=Object.getOwnPropertyDescriptor(n,t);if(null===r?(delete s[o],delete u[o],v.splice(c,1)):i||Y(r)?(s[o]=r,a&&(u[o]={type:r})):(u[o]=r,r&&(s[o]=r.type)),void 0!==f&&null!==f){var d=D(f,o,e,s);l[o]=d,h[o]=f}p&&!0!==p.configurable||Object.defineProperty(n,t,{get:function(){return function(t){var n=K(t,e.keyOutput,e);return null===m?(console.log("activeBacking === null doesn't happen"),V()[n]):m[n]}(t)},set:function(e){!function(t,e){var n={};n[e]=t,b(n)}(e,t)},enumerable:!0,configurable:!0})}}function T(){return i.length}function N(){return Object.keys(n).filter(O).reduce(function(t,e){return t[e]=n[e],t},{})}function z(){d=null,p=null}function j(){d=null}function C(){var t=Q.currentTransaction().time,n=Object.assign({},l),r=!0;return i.length&&(r=ot(n,i,t,c)),c=!1,!r&&p||(v.forEach(function(t){var r=K(t,e.keyOutput,e),i=n[t];i&&i.length&&i.substring&&i.substring(i.length-3),n[t]=W(i,r,e,s),n[t]&&n[t].length&&n[t].substring&&n[t].substring(n[t].length-3)}),Object.freeze(n),p=n),d=null,p}function E(){if(null!==d&&null!==p)return d;var t=C(),n=N();return v.forEach(function(r){var i=t[r],o=K(r,e.keyInput,e);Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!1})}),Object.freeze(n),d=n}function V(){if(null!==y)return y;var t=N();return v.forEach(function(n){var r=h[n],i=K(n,e.keyInput,e);Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!1})}),Object.freeze(t),y=t}function M(){return null!==g?g:V()}function P(t,r){var l=Q.currentTransaction();E();var f=Z(t);if(!(f instanceof X||f instanceof _||f instanceof q||f instanceof J))throw new Error("Not a valid animation:"+JSON.stringify(f));if(L(f,e,u,s,A),i.length||F(),i.push(f),null!==r&&void 0!==r){var h=a[r];h&&x(h),a[r]=f}void 0===r||null===r||!1===r?o.push(null):o.push(r),c=!0,f.runAnimation(n,r,l)}function F(){var t=R(e.display)?function(t){m=C(),e.display.call(e,t),m=h}:function(){};Q.registerTarget(n,C,T,t,j,w,!0,l)}function I(t){var e=r?r[t]:void 0;return e&&Y(e)?{type:e}:e}return Object.keys(n).filter(O).forEach(function(t){var r=n[t],i=K(t,e.keyInput,e);S(i,I(t)||{type:new f});D(r,i,e,s);h[i]=r}),r&&Object.keys(r).filter(O).forEach(function(t){S(K(t,e.keyInput,e),I(t))}),m=V(),m=h,t&&(t.registerAnimatableProperty=S,t.needsDisplay=function(){j(),F()},t.addAnimation=P,t.removeAnimation=function(t){var e=a[t];e&&x(e)},t.removeAllAnimations=function(){i.length=0,o.length=0,a={},i.forEach(function(t){R(t.onend)&&t.onend.call(t,!1)})},t.animationNamed=function(t){var n=a[t];return n?n.description.call(n,e):null},Object.defineProperty(t,"layer",{get:function(){return n},set:function(t){t&&b(t)},enumerable:!0,configurable:!1}),Object.defineProperty(t,"animationCount",{get:T,enumerable:!0,configurable:!1}),Object.defineProperty(t,"animations",{get:function(){return i.map(function(t){return t.description.call(t,e)})},enumerable:!0,configurable:!1}),Object.defineProperty(t,"animationNames",{get:function(){return Object.keys(a)},enumerable:!0,configurable:!1}),Object.defineProperty(t,"presentation",{get:E,enumerable:!0,configurable:!1}),Object.defineProperty(t,"model",{get:V,enumerable:!0,configurable:!1}),Object.defineProperty(t,"previous",{get:M,enumerable:!0,configurable:!1})),t}var st=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var ut=!1,ct={cssText:1,length:1,parentRule:1},lt={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1};function ft(t,e,n){n.enumerable=!0,n.configurable=!0,Object.defineProperty(t,e,n)}var ht=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"hyperStyleLayer",{get:function(){return r},enumerable:!1,configurable:!1}),Object.defineProperty(this,"hyperStyleIndices",{value:{},enumerable:!1,configurable:!1}),Object.defineProperty(this,"hyperStyleLength",{value:{},enumerable:!1,configurable:!1})}return st(t,[{key:"hyperStyleUpdate",value:function(){console.log("hyperStyleUpdate _surrogateElement ???")}}]),t}();var pt="http://www.w3.org/2000/svg";function dt(t,e){var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n}function yt(t,e){var n;if(1===t.length){var r=t[0];n=function(t){return t===r}}else n=function(e){return t.indexOf(e)>=0};return dt(e,{add:function(t,r){return n(t)||n(r)?r:e.add(t,r)},subtract:function(t,r){return n(t)||n(r)?t:e.subtract(t,r)},zero:function(t){return""},interpolate:function(t,r,i){return n(t)||n(r)?wt.interpolate(t,r,i):e.interpolate(t,r,i)},output:function(t,r){return n(t)?t:e.output(t,r)},input:function(t){return n(t)?t:e.input(t)}})}function gt(t,e,n){return Math.max(Math.min(t,n),e)}function vt(t,e,n,r){if(Array.isArray(t)||Array.isArray(e))return function(t,e,n,r){for(var i=t?t.length:e.length,o=[],a=0;a<i;a++)o[a]=vt(t?t[a]:null,e?e[a]:null,n,r);return o}(t,e,n,r);var i="scale"===r?1:0;return(e=mt(e)?e:i)*n+(t=mt(t)?t:i)*(1-n)}function mt(t){return bt(t)&&null!==t}function bt(t){return void 0!==t}function kt(){if("undefined"==typeof document)return{calcFunction:"calc",transformProperty:"transform"};var t=document.documentElement.namespaceURI===pt?document.createElementNS(pt,"g"):document.createElement("div");t.style.cssText="width: calc(0px);width: -webkit-calc(0px);";return{calcFunction:t.style.width.split("(")[0],transformProperty:["transform","webkitTransform","msTransform"].filter(function(e){return e in t.style})[0]}}var wt={name:"nonNumericType",toString:function(){return this.name},toJSON:function(){return this.toString()},zero:function(){return""},inverse:function(t){return t},add:function(t,e){return t},subtract:function(t,e){return t},interpolate:function(t,e,n){return n<.5?t:e},output:function(t,e){return e},input:function(t,e){return e}},xt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var Ot={};function St(t){return Ot[t]||wt}function At(t){Object.assign(Ot,t),function(t){if("undefined"!=typeof document)for(var e in document.documentElement.style)e in ct||e in lt||function(t){ft(ht.prototype,t,{get:function(){return Number.isNaN(parseFloat(t))?(ut&&console.log("*** get property:%s; value:%s;",t,this.hyperStyleLayer[t]),this.hyperStyleLayer[t]):(console.log("$$$ get index",t),this.hyperStyleIndices[t])},set:function(e){Number.isNaN(parseFloat(t))?(ut&&console.log("*** set property:%s; value:%s;",t,e),this.hyperStyleLayer[t]=e):(console.log("$$$ set index:",t),console.log("$$$ set value:",e),this.hyperStyleIndices[t]=e)}})}(e)}()}function Tt(t){return t&&"[object Function]"==={}.toString.call(t)}var Nt,zt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.original=e,this.controller=n||{},this.delegate=r,this.previousLayer={},this.target=null}return xt(t,[{key:"animationForKey",value:function(t,e,n,r,i){null!==n&&void 0!==n||(n=e),null!==r&&void 0!==r||(r=e);var o=void 0;return this.delegate&&Tt(this.delegate)?o=this.delegate.call(this.controller,t,e,n,r,this.target):this.delegate&&Tt(this.delegate.animationForKey)&&(o=this.delegate.animationForKey.call(this.delegate,t,e,n,r,this.target)),o}},{key:"typeOfProperty",value:function(t){return this.delegate&&Tt(this.delegate.typeOfProperty)?this.delegate.typeOfProperty.call(this.delegate,t):St(t)}},{key:"keyOutput",value:function(t){return this.delegate&&Tt(this.delegate.keyInput)?this.delegate.keyOutput.call(this.delegate,t):t}},{key:"keyInput",value:function(t){return this.delegate&&Tt(this.delegate.keyOutput)?this.delegate.keyInput.call(this.delegate,t):t}},{key:"input",value:function(t,e){var n=this.typeOfProperty(t);return n&&Tt(n.input)?n.input(t,e):e}},{key:"output",value:function(t,e){var n=this.typeOfProperty(t);return n&&Tt(n.output)?n.output(t,e):e}},{key:"display",value:function(t){Object.keys(t).forEach(function(e,n){var r=t[e];this.original[e]=r}.bind(this))}}]),t}();function jt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(void 0!==n&&null!==n||void 0!==e&&null!==e?void 0===e||null===e||void 0!==n&&null!==n||e===t?void 0!==e&&null!==e||void 0===n&&null===n||(e=t):n=e:(e=t,n=t),void 0===n||null===n)throw new Error("where's the delegate?");void 0!==n&&null!==n||(n={});var i=t?t.style:null,o=n&&Tt(n)?{animationForKey:n}:n,a=new zt(i,e,o),s=Object.keys(Ot).reduce(function(t,e){return t[e]=Ot[e],t},{});return at(e,a,r,s),e.setElement=function(t){if(!a.target){a.target=t,i=a.target.style,a.original=i;var n={};for(var o in Object.keys(i).forEach(function(t){var e=i[t],r=i[e];if("transform"===r)throw new Error("setElement !!!!! "+JSON.stringify(Object.keys(i)));void 0!==e&&null!==e&&Number.isNaN(parseFloat(e))&&(n[e]=r)}),Ot)e.registerAnimatableProperty(o,{type:Ot[o]});e.layer=n;try{var s=new ht(t,e,r);Object.defineProperty(a.target,"style",{get:function(){return s},configurable:!0,enumerable:!0})}catch(t){console.warn("not animatable by any craft known to Pyon")}}},t&&e.setElement(t),t?function(){}:e.setElement}var Ct=/^\s*(-webkit-)?calc\s*\(\s*([^)]*)\)/,Et=/^\s*(-?[0-9]+(\.[0-9])?[0-9]*)([a-zA-Z%]*)/,Vt=/^\s*([+-])/,Mt=/^\s*auto/i,Pt={name:"lengthType",toString:function(){return this.name},toJSON:function(){return this.toString()},zero:function(){return{px:0}},add:function(t,e){null!==e&&void 0!==e||(e={}),null!==t&&void 0!==t||(t={});var n={};for(var r in t)n[r]=t[r]+(e[r]||0);for(var i in e)i in t||(n[i]=e[i]);if(n.px&&n.px.length&&n.px.substring&&"NaN"===n.px.substring(n.px.length-3))throw new Error("hyperstyle length NaN add base:"+JSON.stringify(t)+"; delta:"+JSON.stringify(e)+";");return n},subtract:function(t,e){var n=this.inverse(e),r=this.add(t,n);if(r.px&&r.px.substring&&"NaN"===r.px.substring(r.px.length-3))throw new Error("hyperstyle length NaN subtract base:"+JSON.stringify(t)+"; delta:"+JSON.stringify(e)+";");return r},interpolate:function(t,e,n){var r={};for(var i in t)r[i]=vt(t[i],e[i],n);for(var o in e)o in r||(r[o]=vt(0,e[o],n));if(r.px&&r.px.length&&r.px.substring&&"NaN"===r.px.substring(r.px.length-3))throw new Error("hyperstyle length NaN interpolate from:"+JSON.stringify(t)+"; to:"+JSON.stringify(e)+"; progress:"+n+";");return r},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){Nt||(Nt=kt());var e="",n=!0;for(var r in t)""===e?e=t[r]+r:n?0!==t[r]&&(e=Nt.calcFunction+"("+e+" + "+t[r]+r+")",n=!1):0!==t[r]&&(e=e.substring(0,e.length-1)+" + "+t[r]+r+")");if(e&&e.length&&e.substring&&"NaN"===e.substring(e.length-3))throw new Error("hyperstyle NaN toCssValue:"+JSON.stringify(t)+";");return e},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){var e=Pt.consumeValueFromString(t);if(e.px&&e.px.length&&e.px.substring&&"NaN"===e.px.substring(e.px.length-3))throw new Error("hyperstyle NaN fromCssValue:"+JSON.stringify(t)+";");if(e)return e.value},consumeValueFromString:function(t){if(mt(t)){if(!t.length)return this.zero();var e=Mt.exec(t);if(e)return{value:{auto:!0},remaining:t.substring(e[0].length)};var n={},r=Ct.exec(t);if(!r){var i=Et.exec(t);return i&&4===i.length?(n[i[3]]=Number(i[1]),{value:n,remaining:t.substring(i[0].length)}):void 0}for(var o=t.substring(r[0].length),a=r[2],s=!0;;){var u=!1;if(s)s=!1;else{var c=Vt.exec(a);if(!c)return;"-"===c[1]&&(u=!0),a=a.substring(c[0].length)}if(!(t=Et.exec(a)))return;var l=t[3],f=Number(t[1]);if(mt(n[l])||(n[l]=0),u?n[l]-=f:n[l]+=f,a=a.substring(t[0].length),/\s*/.exec(a)[0].length===a.length)return{value:n,remaining:o}}}},inverse:function(t){var e={};for(var n in t)e[n]=-t[n];return e}},Ft=yt(["auto"],Pt),It={name:"NumberType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){return"auto"===t?wt.inverse(t):-1*t},zero:function(){return 0},add:function(t,e){return Number(t)!==t&&Number(e)!==e?0:(Number(t)!==t?t=0:Number(e)!==e&&(e=0),"auto"===t||"auto"===e?wt.add(t,e):t+e)},subtract:function(t,e){return Number(t)!==t&&Number(e)!==e?0:(Number(t)!==t?t=0:Number(e)!==e&&(e=0),this.add(t,this.inverse(e)))},interpolate:function(t,e,n){return"auto"===t||"auto"===e?wt.interpolate(t,e):vt(t,e,n)},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return t},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){if("auto"===t)return"auto";var e=Number(t);return isNaN(e)?void 0:e}},Jt=Object.assign({},It,{toString:function(){return"IntergerType"},interpolate:function(t,e,n){return"auto"===t||"auto"===e?wt.interpolate(t,e):Math.floor(vt(t,e,n))}}),qt=Object.assign({},It,{toString:function(){return"OpacityType"},unspecified:function(t){return 1}}),Ht=function(t,e){switch(e){case"grad":return t/400*360;case"rad":return t/2/Math.PI*360;case"turn":return 360*t;default:return t}},_t=function(t,e,n){var r=Number(t[e]);if(!n)return r;var i=t[e+1];""===i&&(i="px");var o={};return o[i]=r,o},Xt=function(t,e,n,r){for(var i=[],o=0;o<e;o++)i.push(_t(t,1+2*o,r));return n&&t[1+2*e]&&i.push(_t(t,1+2*e,r)),i},Yt="\\s*",Zt="^";function Rt(t){return"("+t+")"}var Lt=[Yt,"\\(",Yt].join(""),Kt=[Yt,"\\)",Yt].join(""),Dt=[Yt,",",Yt].join(""),Wt=[Rt("[+-]?(?:\\d+|\\d*\\.\\d+)"),Rt("[a-zA-Z%]*")].join("");function $t(t,e,n,r,i){var o=t;i&&("X"===t[t.length-1]||"Y"===t[t.length-1]?o=t.substring(0,t.length-1):"Z"===t[t.length-1]&&(o=t.substring(0,t.length-1)+"3d"));return[function(t,e,n){for(var r=[Zt,Yt,t,Lt],i=0;i<e-1;i++)r.push(Wt),r.push(Dt);return r.push(Wt),n&&r.push(function(t){return"(?:"+t+")?"}([Dt,Wt].join(""))),r.push(Kt),new RegExp(r.join(""))}(t,e,n),function(o){var a=Xt(o,e,n,r);if(void 0!==i)if("X"===t[t.length-1])a.push(i);else if("Y"===t[t.length-1])a=[i].concat(a);else if("Z"===t[t.length-1])a=[i,i].concat(a);else if(n)for(;a.length<2;)"copy"===i?a.push(a[0]):a.push(i);return a},o]}function Ut(t,e,n,r){var i=$t(t,e,n,!0,r);return[i[0],function(t){return i[1](t).map(function(t){var e=0;for(var n in t)e+=Ht(t[n],n);return e})},i[2]]}var Gt=[Ut("rotate",1,!1),Ut("rotateX",1,!1),Ut("rotateY",1,!1),Ut("rotateZ",1,!1),function(){var t=$t("rotate3d",4,!1,!0);return[t[0],function(e){for(var n=t[1](e),r=[],i=0;i<3;i++)r.push(n[i].px);return r.push(n[3]),r},t[2]]}(),Ut("skew",1,!0,0),Ut("skewX",1,!1),Ut("skewY",1,!1),$t("translateX",1,!1,!0,{px:0}),$t("translateY",1,!1,!0,{px:0}),$t("translateZ",1,!1,!0,{px:0}),$t("translate",1,!0,!0,{px:0}),$t("translate3d",3,!1,!0),$t("scale",1,!0,!1,"copy"),$t("scaleX",1,!1,!1,1),$t("scaleY",1,!1,!1,1),$t("scaleZ",1,!1,!1,1),$t("scale3d",3,!1,!1),$t("perspective",1,!1,!0),$t("matrix",6,!1,!1)],Bt=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function e(t){var e=n(t);return[t[0]/e,t[1]/e,t[2]/e]}function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function r(t,e,n,r){return[n*t[0]+r*e[0],n*t[1]+r*e[1],n*t[2]+r*e[2]]}return function(i){var o=[[i[0],i[1],0,0],[i[2],i[3],0,0],[0,0,1,0],[i[4],i[5],0,1]];if(1!==o[3][3])throw"attempt to decompose non-normalized matrix";for(var a=o.concat(),s=0;s<3;s++)a[s][3]=0;if(0===t(a))return!1;var u,c=[];0!==o[0][3]||0!==o[1][3]||0!==o[2][3]?(c.push(o[0][3]),c.push(o[1][3]),c.push(o[2][3]),c.push(o[3][3]),u=function(t,e){for(var n=[],r=0;r<4;r++){for(var i=0,o=0;o<4;o++)i+=t[o]*e[o][r];n.push(i)}return n}(c,function(t){return[[t[0][0],t[1][0],t[2][0],t[3][0]],[t[0][1],t[1][1],t[2][1],t[3][1]],[t[0][2],t[1][2],t[2][2],t[3][2]],[t[0][3],t[1][3],t[2][3],t[3][3]]]}(function(e){for(var n=1/t(e),r=e[0][0],i=e[0][1],o=e[0][2],a=e[1][0],s=e[1][1],u=e[1][2],c=e[2][0],l=e[2][1],f=e[2][2],h=[[(s*f-u*l)*n,(o*l-i*f)*n,(i*u-o*s)*n,0],[(u*c-a*f)*n,(r*f-o*c)*n,(o*a-r*u)*n,0],[(a*l-s*c)*n,(c*i-r*l)*n,(r*s-i*a)*n,0]],p=[],d=0;d<3;d++){for(var y=0,g=0;g<3;g++)y+=e[3][g]*h[g][d];p.push(y)}return p.push(1),h.push(p),h}(a)))):u=[0,0,0,1];var l=o[3].slice(0,3),f=[];f.push(o[0].slice(0,3));var h=[];h.push(n(f[0])),f[0]=e(f[0]);var p=[];f.push(o[1].slice(0,3)),p.push(Qt(f[0],f[1])),f[1]=r(f[1],f[0],1,-p[0]),h.push(n(f[1])),f[1]=e(f[1]),p[0]/=h[1],f.push(o[2].slice(0,3)),p.push(Qt(f[0],f[2])),f[2]=r(f[2],f[0],1,-p[1]),p.push(Qt(f[1],f[2])),f[2]=r(f[2],f[1],1,-p[2]),h.push(n(f[2])),f[2]=e(f[2]),p[1]/=h[2],p[2]/=h[2];var d=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}(f[1],f[2]);if(Qt(f[0],d)<0)for(var y=0;y<3;y++)h[y]*=-1,f[y][0]*=-1,f[y][1]*=-1,f[y][2]*=-1;var g,v,m=f[0][0]+f[1][1]+f[2][2]+1;return m>1e-4?(g=.5/Math.sqrt(m),v=[(f[2][1]-f[1][2])*g,(f[0][2]-f[2][0])*g,(f[1][0]-f[0][1])*g,.25/g]):f[0][0]>f[1][1]&&f[0][0]>f[2][2]?v=[.25*(g=2*Math.sqrt(1+f[0][0]-f[1][1]-f[2][2])),(f[0][1]+f[1][0])/g,(f[0][2]+f[2][0])/g,(f[2][1]-f[1][2])/g]:f[1][1]>f[2][2]?(g=2*Math.sqrt(1+f[1][1]-f[0][0]-f[2][2]),v=[(f[0][1]+f[1][0])/g,.25*g,(f[1][2]+f[2][1])/g,(f[0][2]-f[2][0])/g]):(g=2*Math.sqrt(1+f[2][2]-f[0][0]-f[1][1]),v=[(f[0][2]+f[2][0])/g,(f[1][2]+f[2][1])/g,.25*g,(f[1][0]-f[0][1])/g]),{translate:l,scale:h,skew:p,quaternion:v,perspective:u}}}();function Qt(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function te(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function ee(t){switch(t.t){case"rotate":var e=t.d*Math.PI/180;return[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0];case"scale":return[t.d[0],0,0,t.d[1],0,0];case"translate":case"translate3d":return[1,0,0,1,t.d[0].px,t.d[1].px];case"matrix":return t.d;default:throw new Error("HyperStyle convertItemToMatrix unimplemented type:%s;",t.t)}}function ne(t){return t.map(ee).reduce(te)}var re=function(){function t(t,e){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=e[r][o]*t[o][i];return n}return function(e,n,r,i,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(var u=0;u<3;u++)for(var c=0;c<3;c++)a[3][u]+=e[c]*a[c][u];var l=i[0],f=i[1],h=i[2],p=i[3],d=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];d[0][0]=1-2*(f*f+h*h),d[0][1]=2*(l*f-h*p),d[0][2]=2*(l*h+f*p),d[1][0]=2*(l*f+h*p),d[1][1]=1-2*(l*l+h*h),d[1][2]=2*(f*h-l*p),d[2][0]=2*(l*h-f*p),d[2][1]=2*(f*h+l*p),d[2][2]=1-2*(l*l+f*f),a=t(a,d);var y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];r[2]&&(y[2][1]=r[2],a=t(a,y)),r[1]&&(y[2][1]=0,y[2][0]=r[0],a=t(a,y));for(var g=0;g<3;g++)for(var v=0;v<3;v++)a[g][v]*=n[g];return{t:"matrix",d:[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]}}}();function ie(t,e,n){var r=t.t?t.t:e.t;switch(r){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"skew":case"skewX":case"skewY":case"matrix":return{t:r,d:vt(t.d,e.d,n,r)};default:var i=[],o=0;t.d&&e.d?o=Math.max(t.d.length,e.d.length):t.d?o=t.d.length:e.d&&(o=e.d.length);for(var a=0;a<o;a++){var s=t.d?t.d[a]:{},u=e.d?e.d[a]:{};i.push(Pt.interpolate(s,u,n))}return{t:r,d:i}}}function oe(t){return Number(t).toFixed(4)}var ae={name:"transformType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){t&&t.length||(t=this.zero());for(var e=this.zero(t),n=[],r=0;r<t.length;r++)switch(t[r].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":n.push({t:t[r].t,d:[It.inverse(t[r].d[0])]});break;case"skew":n.push({t:t[r].t,d:[It.inverse(t[r].d[0]),It.inverse(t[r].d[1])]});break;case"translateX":case"translateY":case"translateZ":case"perspective":n.push({t:t[r].t,d:[It.inverse(t[r].d[0])]});break;case"translate":n.push({t:t[r].t,d:[{px:It.inverse(t[r].d[0].px)},{px:It.inverse(t[r].d[1].px)}]});break;case"translate3d":n.push({t:t[r].t,d:[{px:It.inverse(t[r].d[0].px)},{px:It.inverse(t[r].d[1].px)},{px:It.inverse(t[r].d[2].px)}]});break;case"scale":n.push({t:t[r].t,d:[e[r].d[0]/t[r].d[0],e[r].d[1]/t[r].d[1]]});break;case"scaleX":case"scaleY":case"scaleZ":n.push({t:t[r].t,d:[e[r].d[0]/t[r].d[0]]});break;case"scale3d":n.push({t:t[r].t,d:[e[r].d[0]/t[r].d[0],e[r].d[1]/t[r].d[1],-1/t[r].d[2]]});break;case"matrix":n.push({t:t[r].t,d:[It.inverse(t[r].d[0]),It.inverse(t[r].d[1]),It.inverse(t[r].d[2]),It.inverse(t[r].d[3]),It.inverse(t[r].d[4]),It.inverse(t[r].d[5])]})}return n},add:function(t,e){if(!t||!t.length)return e;if(!e||!e.length)return t;var n=t.length,r=e.length;if(n&&r&&n>=r){for(var i=!0,o=0,a=n-r;a<n;a++){if(t[a].t!==e[o].t){i=!1;break}o++}if(i)return this.sum(t,e)}return t.concat(e)},sum:function(t,e){for(var n=[],r=t.length,i=r-e.length,o=0,a=0;a<r;a++)if(a<i)n.push(t[a]);else{switch(t[a].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":n.push({t:t[a].t,d:[It.add(t[a].d[0],e[o].d[0])]});break;case"skew":n.push({t:t[a].t,d:[It.add(t[a].d[0],e[o].d[0]),It.add(t[a].d[1],e[o].d[1])]});break;case"translateX":case"translateY":case"translateZ":case"perspective":n.push({t:t[a].t,d:[It.add(t[a].d[0],e[o].d[0])]});break;case"translate":n.push({t:t[a].t,d:[{px:It.add(t[a].d[0].px,e[o].d[0].px)},{px:It.add(t[a].d[1].px,e[o].d[1].px)}]});break;case"translate3d":n.push({t:t[a].t,d:[{px:It.add(t[a].d[0].px,e[o].d[0].px)},{px:It.add(t[a].d[1].px,e[o].d[1].px)},{px:It.add(t[a].d[2].px,e[o].d[2].px)}]});break;case"scale":n.push({t:t[a].t,d:[t[a].d[0]*e[o].d[0],t[a].d[1]*e[o].d[1]]});break;case"scaleX":case"scaleY":case"scaleZ":n.push({t:t[a].t,d:[t[a].d[0]*e[o].d[0]]});break;case"scale3d":n.push({t:t[a].t,d:[t[a].d[0]*e[o].d[0],t[a].d[1]*e[o].d[1],t[a].d[2]*e[o].d[2]]});break;case"matrix":n.push({t:t[a].t,d:[It.add(t[a].d[0],e[o].d[0]),It.add(t[a].d[1],e[o].d[1]),It.add(t[a].d[2],e[o].d[2]),It.add(t[a].d[3],e[o].d[3]),It.add(t[a].d[4],e[o].d[4]),It.add(t[a].d[5],e[o].d[5])]})}o++}return n},zero:function(t){var e=[1,0,0,1,0,0];if(!t)return[];for(var n=[],r=0;r<t.length;r++)switch(t[r].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":n.push({t:t[r].t,d:[0]});break;case"skew":n.push({t:t[r].t,d:[0,0]});break;case"translateX":case"translateY":case"translateZ":case"perspective":n.push({t:t[r].t,d:[0]});break;case"translate":n.push({t:t[r].t,d:[{px:0},{px:0}]});break;case"translate3d":n.push({t:t[r].t,d:[{px:0},{px:0},{px:0}]});break;case"scale":n.push({t:t[r].t,d:[1,1]});break;case"scaleX":case"scaleY":case"scaleZ":n.push({t:t[r].t,d:[1]});break;case"scale3d":n.push({t:t[r].t,d:[1,1,1]});break;case"matrix":n.push({t:t[r].t,d:e})}return n},subtract:function(t,e){var n=this.inverse(e);return this.add(t,n)},interpolate:function(t,e,n){var r,i=[];for(r=0;r<Math.min(t.length,e.length)&&t[r].t===e[r].t;r++)i.push(ie(t[r],e[r],n));if(r<Math.min(t.length,e.length))return i.push(function(t,e,n){var r=Bt(ne(t)),i=Bt(ne(e)),o=Qt(r.quaternion,i.quaternion),a=[];if(1===(o=gt(o,-1,1)))a=r.quaternion;else for(var s=Math.acos(o),u=1*Math.sin(n*s)/Math.sqrt(1-o*o),c=0;c<4;c++)a.push(r.quaternion[c]*(Math.cos(n*s)-o*u)+i.quaternion[c]*u);var l=vt(r.translate,i.translate,n),f=vt(r.scale,i.scale,n),h=vt(r.skew,i.skew,n),p=vt(r.perspective,i.perspective,n);return re(l,f,h,a,p)}(t.slice(r),e.slice(r),n)),i;for(;r<t.length;r++)i.push(ie(t[r],{t:null,d:null},n));for(;r<e.length;r++)i.push(ie({t:null,d:null},e[r],n));return i},output:function(t,e,n){return this.toCssValue(e,n)},toCssValue:function(t,e){if(null===t||void 0===t)return"";if(Array.isArray(t)&&!t.length)return"";if("string"==typeof t)return t;for(var n,r="",i=0;i<t.length;i++)switch(t[i].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":n=e?"":"deg",r+=t[i].t+"("+t[i].d[0]+n+") ";break;case"skew":n=e?"":"deg",r+=t[i].t+"("+t[i].d[0]+n,0===t[i].d[1]?r+=") ":r+=", "+t[i].d[1]+n+") ";break;case"translateX":case"translateY":case"translateZ":case"perspective":r+=t[i].t+"("+Pt.toCssValue(t[i].d[0])+") ";break;case"translate":if(e){void 0===t[i].d[1]?r+=t[i].t+"("+t[i].d[0].px+") ":r+=t[i].t+"("+t[i].d[0].px+", "+t[i].d[1].px+") ";break}void 0===t[i].d[1]?r+=t[i].t+"("+Pt.toCssValue(t[i].d[0])+") ":r+=t[i].t+"("+Pt.toCssValue(t[i].d[0])+", "+Pt.toCssValue(t[i].d[1])+") ";break;case"translate3d":var o=t[i].d.map(Pt.toCssValue);r+=t[i].t+"("+o[0]+", "+o[1]+", "+o[2]+") ";break;case"scale":t[i].d[0]===t[i].d[1]?r+=t[i].t+"("+t[i].d[0]+") ":r+=t[i].t+"("+t[i].d[0]+", "+t[i].d[1]+") ";break;case"scaleX":case"scaleY":case"scaleZ":r+=t[i].t+"("+t[i].d[0]+") ";break;case"scale3d":r+=t[i].t+"("+t[i].d[0]+", "+t[i].d[1]+", "+t[i].d[2]+") ";break;case"matrix":r+=t[i].t+"("+oe(t[i].d[0])+", "+oe(t[i].d[1])+", "+oe(t[i].d[2])+", "+oe(t[i].d[3])+", "+oe(t[i].d[4])+", "+oe(t[i].d[5])+") "}return r.substring(0,r.length-1)},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){if("transform"===t)throw console.log("not a transform"),new Error("not a transform");for(var e=[];"string"==typeof t&&t.length>0;){for(var n,r=0;r<Gt.length;r++){var i=Gt[r];if(n=i[0].exec(t)){e.push({t:i[2],d:i[1](n)}),t=t.substring(n[0].length);break}}if(!mt(n))return e}return e}},se=new RegExp("(hsla?|rgba?)\\(([\\-0-9]+%?),?\\s*([\\-0-9]+%?),?\\s*([\\-0-9]+%?)(?:,?\\s*([\\-0-9\\.]+%?))?\\)"),ue=new RegExp("#([0-9A-Fa-f][0-9A-Fa-f]?)([0-9A-Fa-f][0-9A-Fa-f]?)([0-9A-Fa-f][0-9A-Fa-f]?)");var ce={aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],transparent:[0,0,0,0],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},le=yt(["currentColor"],{name:"colorType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){return this.subtract(t,[255,255,255,1])},zero:function(){return[0,0,0,0]},_premultiply:function(t){var e=t[3];return[t[0]*e,t[1]*e,t[2]*e]},add:function(t,e){var n=Math.min(t[3]+e[3],1);return 0===n?[0,0,0,0]:(t=this._premultiply(t),e=this._premultiply(e),[(t[0]+e[0])/n,(t[1]+e[1])/n,(t[2]+e[2])/n,n])},subtract:function(t,e){var n=Math.min(t[3]+e[3],1);return 0===n?[0,0,0,0]:(t=this._premultiply(t),e=this._premultiply(e),[(t[0]-e[0])/n,(t[1]-e[1])/n,(t[2]-e[2])/n,n])},interpolate:function(t,e,n){var r=gt(vt(t[3],e[3],n),0,1);return 0===r?[0,0,0,0]:(t=this._premultiply(t),e=this._premultiply(e),[vt(t[0],e[0],n)/r,vt(t[1],e[1],n)/r,vt(t[2],e[2],n)/r,r])},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){var e=[],n=ue.exec(t);if(n){if(4!==t.length&&7!==t.length)return;n.shift();for(var r=0;r<3;r++){1===n[r].length&&(n[r]=n[r]+n[r]);var i=Math.max(Math.min(parseInt(n[r],16),255),0);e[r]=i}e.push(1)}var o=se.exec(t);if(o){o.shift();for(var a=o.shift().substr(0,3),s=0;s<3;s++){var u=1;"%"===o[s][o[s].length-1]&&(o[s]=o[s].substr(0,o[s].length-1),u=2.55),e[s]="rgb"===a?gt(Math.round(parseInt(o[s],10)*u),0,255):parseInt(o[s],10)}"hsl"===a&&(e=function(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var i;t=(t%360+360)%360/360,e/=100;var o=2*(n/=100)-(i=n<=.5?n*(e+1):n+e-n*e);return[Math.ceil(255*r(o,i,t+1/3)),Math.ceil(255*r(o,i,t)),Math.ceil(255*r(o,i,t-1/3))]}.apply(null,e)),void 0!==o[3]?e[3]=Math.max(Math.min(parseFloat(o[3]),1),0):e.push(1)}if(!e.some(isNaN))return e.length>0?e:ce[t]}}),fe=/^\s*left|^\s*center|^\s*right|^\s*top|^\s*bottom/i,he={name:"positionType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){return[Pt.inverse(t[0]),Pt.add(t[1])]},zero:function(){return[{px:0},{px:0}]},add:function(t,e){return[Pt.add(t[0],e[0]),Pt.add(t[1],e[1])]},subtract:function(t,e){return this.add(t,this.inverse(e))},interpolate:function(t,e,n){return[Pt.interpolate(t[0],e[0],n),Pt.interpolate(t[1],e[1],n)]},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return t.map(Pt.toCssValue).join(" ")},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){for(var e=[],n=t;;){var r=he.consumeTokenFromString(n);if(!r)return;if(e.push(r.value),n=r.remaining,!r.remaining.trim())break;if(e.length>=4)return}if(1===e.length){var i=e[0];return(he.isHorizontalToken(i)?[i,"center"]:["center",i]).map(he.resolveToken)}if(2===e.length&&he.isHorizontalToken(e[0])&&he.isVerticalToken(e[1]))return e.map(he.resolveToken);if(2===e.filter(he.isKeyword).length){for(var o=[void 0,void 0],a=!1,s=0;s<e.length;s++){var u=e[s];if(!he.isKeyword(u))return;if("center"!==u){var c=Number(he.isVerticalToken(u));if(o[c])return;if(s===e.length-1||he.isKeyword(e[s+1]))o[c]=he.resolveToken(u);else{var l=e[++s];"bottom"!==u&&"right"!==u||((l=Pt.inverse(l))["%"]=(l["%"]||0)+100),o[c]=l}}else{if(a)return;a=!0}}if(a)if(o[0]){if(o[1])return;o[1]=he.resolveToken("center")}else o[0]=he.resolveToken("center");return o.every(mt)?o:void 0}},consumeTokenFromString:function(t){var e=fe.exec(t);return e?{value:e[0].trim().toLowerCase(),remaining:t.substring(e[0].length)}:Pt.consumeValueFromString(t)},resolveToken:function(t){return"string"==typeof t?Pt.fromCssValue({left:"0%",center:"50%",right:"100%",top:"0%",bottom:"100%"}[t]):t},isHorizontalToken:function(t){return"string"!=typeof t||t in{left:!0,center:!0,right:!0}},isVerticalToken:function(t){return"string"!=typeof t||t in{top:!0,center:!0,bottom:!0}},isKeyword:function(t){return"string"==typeof t}},pe={name:"positionListType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t[r]?t[r]:he.zero();e.push(he.inverse(i))}return e},zero:function(){return[he.zero()]},add:function(t,e){for(var n=[],r=Math.max(t.length,e.length),i=0;i<r;i++){var o=t[i]?t[i]:he.zero(),a=e[i]?e[i]:he.zero();n.push(he.add(o,a))}return n},subtract:function(t,e){return this.add(t,this.inverse(e))},interpolate:function(t,e,n){for(var r=[],i=Math.max(t.length,e.length),o=0;o<i;o++){var a=t[o]?t[o]:he.zero(),s=e[o]?e[o]:he.zero();r.push(he.interpolate(a,s,n))}return r},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return t.map(he.toCssValue).join(", ")},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){if(mt(t)){if(!t.trim())return[he.fromCssValue("0% 0%")];var e=t.split(",").map(he.fromCssValue);return e.every(mt)?e:void 0}}},de=/rect\(([^,]+),([^,]+),([^,]+),([^)]+)\)/,ye={name:"rectangleType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){return{top:Pt.inverse(t.top),right:Pt.inverse(t.right),bottom:Pt.inverse(t.bottom),left:Pt.inverse(t.left)}},zero:function(){return{top:0,right:0,bottom:0,left:0}},add:function(t,e){return{top:Pt.add(t.top,e.top),right:Pt.add(t.right,e.right),bottom:Pt.add(t.bottom,e.bottom),left:Pt.add(t.left,e.left)}},subtract:function(t,e){return this.add(t,this.inverse(e))},interpolate:function(t,e,n){return{top:Pt.interpolate(t.top,e.top,n),right:Pt.interpolate(t.right,e.right,n),bottom:Pt.interpolate(t.bottom,e.bottom,n),left:Pt.interpolate(t.left,e.left,n)}},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return"rect("+Pt.toCssValue(t.top)+","+Pt.toCssValue(t.right)+","+Pt.toCssValue(t.bottom)+","+Pt.toCssValue(t.left)+")"},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){var e=de.exec(t);if(e){var n={top:Pt.fromCssValue(e[1]),right:Pt.fromCssValue(e[2]),bottom:Pt.fromCssValue(e[3]),left:Pt.fromCssValue(e[4])};return n.top&&n.right&&n.bottom&&n.left?n:void 0}}},ge={name:"shadowType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){return wt.inverse(t)},zero:function(){return{hOffset:Pt.zero(),vOffset:Pt.zero()}},_addSingle:function(t,e){if(t&&e&&t.inset!==e.inset)return e;var n={inset:t?t.inset:e.inset,hOffset:Pt.add(t?t.hOffset:Pt.zero(),e?e.hOffset:Pt.zero()),vOffset:Pt.add(t?t.vOffset:Pt.zero(),e?e.vOffset:Pt.zero()),blur:Pt.add(t&&t.blur||Pt.zero(),e&&e.blur||Pt.zero())};return(t&&t.spread||e&&e.spread)&&(n.spread=Pt.add(t&&t.spread||Pt.zero(),e&&e.spread||Pt.zero())),(t&&t.color||e&&e.color)&&(n.color=le.add(t&&t.color||le.zero(),e&&e.color||le.zero())),n},add:function(t,e){for(var n=[],r=0;r<t.length||r<e.length;r++)n.push(this._addSingle(t[r],e[r]));return n},subtract:function(t,e){return this.add(t,this.inverse(e))},_interpolateSingle:function(t,e,n){if(t&&e&&t.inset!==e.inset)return n<.5?t:e;var r={inset:t?t.inset:e.inset,hOffset:Pt.interpolate(t?t.hOffset:Pt.zero(),e?e.hOffset:Pt.zero(),n),vOffset:Pt.interpolate(t?t.vOffset:Pt.zero(),e?e.vOffset:Pt.zero(),n),blur:Pt.interpolate(t&&t.blur||Pt.zero(),e&&e.blur||Pt.zero(),n)};return(t&&t.spread||e&&e.spread)&&(r.spread=Pt.interpolate(t&&t.spread||Pt.zero(),e&&e.spread||Pt.zero(),n)),(t&&t.color||e&&e.color)&&(r.color=le.interpolate(t&&t.color||le.zero(),e&&e.color||le.zero(),n)),r},interpolate:function(t,e,n){for(var r=[],i=0;i<t.length||i<e.length;i++)r.push(this._interpolateSingle(t[i],e[i],n));return r},_outputSingle:function(t){return(t.inset?"inset ":"")+Pt.toCssValue(t.hOffset)+" "+Pt.toCssValue(t.vOffset)+" "+Pt.toCssValue(t.blur)+(t.spread?" "+Pt.toCssValue(t.spread):"")+(t.color?" "+le.toCssValue(t.color):"")},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return t.map(this._outputSingle).join(", ")},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){for(var e,n=/(([^(,]+(\([^)]*\))?)+)/g,r=[];null!==(e=n.exec(t));)r.push(e[0]);var i=r.map(function(t){if("none"===t)return ge.zero();t=t.replace(/^\s+|\s+$/g,"");for(var n=/([^ (]+(\([^)]*\))?)/g,r=[];null!==(e=n.exec(t));)r.push(e[0]);if(!(r.length<2||r.length>7)){for(var i={inset:!1},o=[];r.length;){var a=r.shift(),s=Pt.fromCssValue(a);if(s)o.push(s);else{var u=le.fromCssValue(a);u&&(i.color=u),"inset"===a&&(i.inset=!0)}}if(!(o.length<2||o.length>4))return i.hOffset=o[0],i.vOffset=o[1],o.length>2&&(i.blur=o[2]),o.length>3&&(i.spread=o[3]),i}});return i.every(bt)?i:void 0}},ve={name:"fontWeightType",toString:function(){return this.name},toJSON:function(){return this.toString()},inverse:function(t){return-1*t},add:function(t,e){return t+e},subtract:function(t,e){return this.add(t,this.inverse(e))},interpolate:function(t,e,n){return vt(t,e,n)},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){return 400===(t=gt(t=100*Math.round(t/100),100,900))?"normal":700===t?"bold":String(t)},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){var e=Number(t);if(!(isNaN(e)||e<100||e>900||e%100!=0))return e}},me=dt(wt,{toString:function(){return"visibilityType"},toJSON:function(){return this.toString()},zero:function(){return"hidden"},unspecified:function(){return"visible"},add:function(t,e){return"visible"!==t&&"visible"!==e?wt.add(t,e):"visible"},subtract:function(t,e){return"visible"===e&&"visible"===t?"hidden":t},interpolate:function(t,e,n){return"visible"!==t&&"visible"!==e?wt.interpolate(t,e,n):n<=0?t:n>=1?e:"visible"},input:function(t,e){return this.fromCssValue(e)},fromCssValue:function(t){if(-1!==["visible","hidden","collapse"].indexOf(t))return t},output:function(t,e){return this.toCssValue(e)},toCssValue:function(t){if(-1!==["visible","hidden","collapse"].indexOf(t))return t}});n.d(e,"DELEGATE_DOUBLE_WHAMMY",function(){return!0}),n.d(e,"VAGUE_TYPE_SPAGHETTI_HACK",function(){return!1}),n.d(e,"FAKE_SET_BUG_FIX",function(){return!0}),n.d(e,"beginTransaction",function(){return tt}),n.d(e,"commitTransaction",function(){return et}),n.d(e,"currentTransaction",function(){return nt}),n.d(e,"flushTransaction",function(){return rt}),n.d(e,"disableAnimation",function(){return it}),n.d(e,"presentationTransform",function(){return ot}),n.d(e,"activate",function(){return at}),n.d(e,"HyperNumber",function(){return f}),n.d(e,"HyperScale",function(){return h}),n.d(e,"HyperArray",function(){return p}),n.d(e,"HyperSet",function(){return d}),n.d(e,"HyperPoint",function(){return y}),n.d(e,"HyperSize",function(){return g}),n.d(e,"HyperRect",function(){return v}),n.d(e,"hyperNotFound",function(){return m}),n.d(e,"hyperMakeRect",function(){return b}),n.d(e,"hyperZeroRect",function(){return k}),n.d(e,"hyperEqualRects",function(){return w}),n.d(e,"hyperMakePoint",function(){return x}),n.d(e,"hyperZeroPoint",function(){return O}),n.d(e,"hyperEqualPoints",function(){return S}),n.d(e,"hyperMakeSize",function(){return A}),n.d(e,"hyperZeroSize",function(){return T}),n.d(e,"hyperEqualSizes",function(){return N}),n.d(e,"hyperMakeRange",function(){return z}),n.d(e,"hyperZeroRange",function(){return j}),n.d(e,"hyperNullRange",function(){return C}),n.d(e,"hyperIndexInRange",function(){return E}),n.d(e,"hyperEqualRanges",function(){return V}),n.d(e,"hyperIntersectionRange",function(){return M}),n.d(e,"typeOfProperty",function(){return St}),n.d(e,"registerAnimatableStyles",function(){return At}),n.d(e,"HyperStyleDelegate",function(){return zt}),n.d(e,"activateElement",function(){return jt}),n.d(e,"nonNumericType",function(){return wt}),n.d(e,"transformType",function(){return ae}),n.d(e,"colorType",function(){return le}),n.d(e,"integerType",function(){return Jt}),n.d(e,"opacityType",function(){return qt}),n.d(e,"lengthType",function(){return Pt}),n.d(e,"lengthAutoType",function(){return Ft}),n.d(e,"positionType",function(){return he}),n.d(e,"positionListType",function(){return pe}),n.d(e,"rectangleType",function(){return ye}),n.d(e,"shadowType",function(){return ge}),n.d(e,"fontWeightType",function(){return ve}),n.d(e,"visibilityType",function(){return me})}])});